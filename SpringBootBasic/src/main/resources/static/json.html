<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>json.html</h1>
	<button id="btnSendEmp">Emp 보내기</button>
	<button id="btnSendEmpList">Emp List 보내기</button>
	<script>
    let emp  = {
            employeeId: 1,
            firstName: '길동',
            lastName: '홍',
            email: 'hong@gildong.com',
            hireDate: '2023-01-01'
    };
    let empList  = [
        {
            
            employeeId: 2,
            firstName: '길동',
            lastName: '이',
            email: 'lee@gildong.com',
            hireDate: '2023-02-02'
        },
        {
            
            employeeId: 3,
            firstName: '길동',
            lastName: '삼',
            email: 'sam@gildong.com',
            hireDate: '2023-03-03'
        },
        {
            
            employeeId: 4,
            firstName: '길동',
            lastName: '사',
            email: 'sa@gildong.com',
            hireDate: '2023-04-04'
        },
    ];
    
    window.onload = function(){
    	document.querySelector("#btnSendEmp").onclick = async function(){
		
    		let jsonStr = JSON.stringify(emp);
    		console.log(jsonStr);
    		
			let fetchOption = {
				method: "POST",
				headers: {
					'Content-Type': 'application/json'
				},
				body: jsonStr
			}
			
			let response = await fetch("/emp", fetchOption);
			let data = await response.json();
			console.log(data);
		}
    	
    	document.querySelector("#btnSendEmpList").onclick = async function(){
    		
    		let jsonStr = JSON.stringify(empList);
    		console.log(jsonStr);
    		
			let fetchOption = {
				method: "POST",
				headers: {
					'Content-Type': 'application/json'
				},
				body: jsonStr
			}
			
			let response = await fetch("/emplist", fetchOption);
			let data = await response.json();
			console.log(data);
		}
    }
	</script>
</body>
</html>